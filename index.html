
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>臺灣的藥局</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            background-image: url('https://source.unsplash.com/featured/?forest,greenfield');
            background-size: cover;
            font-family: Arial, sans-serif;
        }
        .wrapper {
            max-width: 1200px;
            margin: auto;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.8);
            border-radius: 15px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .title {
            color: #2b8a3e;
            text-align: center;
            margin: 20px 0;
        }
        .map-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px auto;
        }
        #map {
            width: 100%;
            height: 500px;
        }
        .footer {
            text-align: center;
            margin-top: 20px;
            font-size: 0.8em;
        }
    </style>
</head>
<body>


<div class="wrapper">
    <div class="title">
        <h1>🌿 臺灣的藥局地圖 🌿</h1>
        <p>以下列出臺灣個城市的市區附近的藥局的資料。請大家有要尋找醫療資源，可以來參考這個地圖下的內容。</p>
    </div>
    
    <div class="map-container">
        <div id="map"></div>
    </div>
    
    <div class="footer">
        Generated by <a href="https://intro.botrun.ai/">Botrun.ai</a>
    </div>
</div>


<script>
    Plotly.d3.csv('https://wengroy.github.io/civilmap/pharmacy_taiwan_demo_2022.csv', function(err, rows){
        function unpack(rows, key) {
            return rows.map(function(row) { return row[key]; });
        }


        var data = [{
            type: 'scattermapbox',
            lat: unpack(rows, 'lat'),
            lon: unpack(rows, 'lon'),
            mode: 'markers',
            marker: {
                size: 10,
                color: '#2b8a3e'
            },
            text: unpack(rows, 'name')
        }];


        var layout = {
            mapbox: {
                style: 'open-street-map',
                center: {
                    lat: 24.147736,
                    lon: 120.673648
                },
                zoom: 10
            },
            margin: {r: 0, t: 0, l: 0, b: 0}
        };


        Plotly.newPlot('map', data, layout, {responsive: true});
    });
</script>


</body>
</html>
